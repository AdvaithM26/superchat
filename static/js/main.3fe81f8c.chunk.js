(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t);var a,i=n(0),s=n(1),r=n.n(s),c=n(29),d=n.n(c),l=n(16),o=(n(95),n(13)),m=n(76),u=n(3),b=n(80),j=new o.InMemoryCache,v=Object(o.createHttpLink)({uri:"https://superchat-server-main.herokuapp.com/graphql"}),p=Object(m.a)((function(e,t){t.headers;var n=localStorage.getItem("token");return{headers:{authorization:n?"Bearer ".concat(n):""}}})),k=new b.a({uri:"wss://superchat-server-main.herokuapp.com/graphql",options:{reconnect:!0,connectionParams:{authToken:localStorage.getItem("token")}}}),h=Object(o.split)((function(e){var t=e.query,n=Object(u.p)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),k,p.concat(v)),g=new o.ApolloClient({cache:j,link:h,name:"superchat-web-client"}),O=n(25),f=(n(110),n.p+"static/media/landing.242fce53.jpg"),N=n.p+"static/media/feature-contact.343ec899.png",x=n.p+"static/media/feature-resolve.e54a4fa9.png",y=n.p+"static/media/feature-chat.7b6e61cd.png",S=n.p+"static/media/preview.a92dfc72.png",w=(n(111),function(){return Object(s.useEffect)((function(){document.title="SuperChat",document.body.classList.remove("dark-mode")})),Object(i.jsxs)("div",{id:"landing-page",children:[Object(i.jsx)("div",{id:"landing-container",style:{backgroundImage:"url(".concat(f,")")},children:Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("img",{src:S,alt:"Preview of SuperChat"}),Object(i.jsx)("h1",{children:"SuperChat"}),Object(i.jsx)("p",{className:"lead",children:"The next-generation chat app."})]})}),Object(i.jsx)("div",{id:"landing-features",children:Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)("h2",{children:"SuperChat is the most advanced chat app in the world"}),Object(i.jsx)("p",{className:"lead mb-5",children:"Forget WhatsApp, forget Google Hangouts; SuperChat has got your back."}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-lg",children:Object(i.jsxs)("div",{className:"lit-card",children:[Object(i.jsx)("img",{src:N,alt:"Easily add contacts",className:"lit-card-img"}),Object(i.jsxs)("div",{className:"lit-card-body",children:[Object(i.jsx)("div",{className:"lit-card-title",children:"Add contacts"}),Object(i.jsx)("p",{children:"Easily add contacts just by typing your friend's username."})]})]})}),Object(i.jsx)("div",{className:"col-lg",children:Object(i.jsxs)("div",{className:"lit-card",children:[Object(i.jsx)("img",{src:x,alt:"Easily add contacts",className:"lit-card-img"}),Object(i.jsxs)("div",{className:"lit-card-body",children:[Object(i.jsx)("div",{className:"lit-card-title",children:"Resolve contacts"}),Object(i.jsxs)("p",{children:["Keep your DMs secure and keep out strangers by only accepting contacts you know, using our contact resolve system."," "]})]})]})}),Object(i.jsx)("div",{className:"col-lg",children:Object(i.jsxs)("div",{className:"lit-card",children:[Object(i.jsx)("img",{src:y,alt:"Easily add contacts",className:"lit-card-img"}),Object(i.jsxs)("div",{className:"lit-card-body",children:[Object(i.jsx)("div",{className:"lit-card-title",children:"Chat in real time"}),Object(i.jsx)("p",{children:"Chat in real time\u2020 with your friends and family thanks to our GraphQL powered SuperServer\u2122."})]})]})})]}),Object(i.jsx)(O.b,{to:"/signup",children:Object(i.jsx)("button",{className:"navbar-btn mt-5 py-3 px-4 fs-25",children:"START CHATTING"})}),Object(i.jsxs)("p",{className:"fs-10",style:{marginTop:80},children:["\u2020 You may experience some delay based on your internet speed and server traffic.",Object(i.jsx)("br",{}),"\xa9 SuperServer 2020 - \u221e, all rights reserved."]})]})}),Object(i.jsxs)("footer",{id:"landing-footer",children:["\xa9"," ",Object(i.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://advaithm26.github.io",className:"text-white text-decoration-none",children:"Advaith Malka"})," ","2020 - \u221e"]})]})}),C=n(33),F=n(11),D=n(15),q=(n(72),n(83)),I=localStorage.getItem("token"),V=!1;I&&(V=!0,1e3*(a=Object(q.a)(I)).exp<Date.now()&&(localStorage.removeItem("token"),V=!1));var T=Object(s.createContext)({user:null,loginUser:function(){},logoutUser:function(){}}),L=function(e,t){switch(t.type){case"LOGIN_USER":return Object(l.a)(Object(l.a)({},e),{},{user:t.payload});case"LOGOUT_USER":return Object(l.a)(Object(l.a)({},e),{},{user:null});default:return e}},U=function(e){var t=Object(s.useReducer)(L,{user:V?a:null}),n=Object(F.a)(t,2),r=n[0],c=n[1];return Object(i.jsx)(T.Provider,Object(l.a)(Object(l.a)({value:{user:r.user,loginUser:function(e){localStorage.setItem("token",e.token),c({type:"LOGIN_USER",payload:e})},logoutUser:function(){localStorage.removeItem("token"),c({type:"LOGOUT_USER"})}}},e),{},{children:e.children}))},A={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Login"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[{kind:"Argument",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:166,source:{body:"mutation Login($username: String!, $password: String!) {\r\n\tlogin(username: $username, password: $password) {\r\n\t\tid\r\n\t\tusername\r\n\t\ttoken\r\n\t\temail\r\n\t\tcreatedAt\r\n\t}\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},$=function(){var e=Object(s.useContext)(T),t=Object(D.f)(),n=Object(s.useRef)();Object(s.useEffect)((function(){document.title="Login | SuperChat",e.user&&t.replace("/"),n.current.style.backgroundImage="url(".concat(f,")")}));var a=Object(s.useState)({username:"",password:""}),r=Object(F.a)(a,2),c=r[0],d=r[1],m=Object(s.useState)({error:""}),u=Object(F.a)(m,2),b=u[0],j=u[1],v=function(e){var t=e.target;d(Object(l.a)(Object(l.a)({},c),{},Object(C.a)({},t.name,t.value))),""!==b.error&&j({error:""})},p=Object(o.useMutation)(A,{update:function(t,n){var a=n.data;e.loginUser(a.login)},onError:function(e){var t=e.graphQLErrors;j(t[0].extensions.exception.errors)}}),k=Object(F.a)(p,2),h=k[0],g=k[1].loading;return Object(i.jsx)("div",{ref:n,id:"sl-form",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h({variables:c})},className:"sl-form pt-5",children:[Object(i.jsx)("h3",{className:"text-center fw-400 fs-35 ",children:"Login to SuperChat"}),Object(i.jsxs)("div",{className:"group",children:[Object(i.jsx)("input",{name:"username",type:"text",required:!0,value:c.username,onChange:v}),Object(i.jsx)("span",{className:"highlight"}),Object(i.jsx)("span",{className:"bar"}),Object(i.jsx)("label",{children:"Username"})]}),Object(i.jsxs)("div",{className:"group",children:[Object(i.jsx)("input",{name:"password",type:"password",required:!0,value:c.password,onChange:v}),Object(i.jsx)("span",{className:"highlight"}),Object(i.jsx)("span",{className:"bar"}),Object(i.jsx)("label",{children:"Password"})]}),Object.values(b).map((function(e){return Object(i.jsx)("p",{className:"text-danger text-center",children:e},e)})),Object(i.jsxs)("div",{className:"box",children:[Object(i.jsx)("button",{name:"signup-submit",className:"navbar-btn",type:"submit",disabled:g,children:g?Object(i.jsx)("div",{className:"lit-spinner"}):"LOGIN"}),Object(i.jsxs)("p",{className:"mt-2",children:["Don't have an account?"," ",Object(i.jsx)(O.b,{to:"/signup",className:"link-unstyled",children:"Sign up"})]})]})]})})})},R={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Signup"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"repeatPassword"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signup"},arguments:[{kind:"Argument",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}},{kind:"Argument",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}},{kind:"Argument",name:{kind:"Name",value:"repeatPassword"},value:{kind:"Variable",name:{kind:"Name",value:"repeatPassword"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:280,source:{body:"mutation Signup(\r\n\t$username: String!\r\n\t$email: String!\r\n\t$password: String!\r\n\t$repeatPassword: String!\r\n) {\r\n\tsignup(\r\n\t\tusername: $username\r\n\t\temail: $email\r\n\t\tpassword: $password\r\n\t\trepeatPassword: $repeatPassword\r\n\t) {\r\n\t\tid\r\n\t\tusername\r\n\t\ttoken\r\n\t\temail\r\n\t\tcreatedAt\r\n\t}\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},G=function(e){var t=Object(s.useContext)(T),n=Object(D.f)();t.user&&n.replace("/");var a=Object(s.useRef)();Object(s.useEffect)((function(){document.title="Signup | SuperChat",a.current.style.backgroundImage="url(".concat(f,")")}));var r=Object(s.useState)({username:"",email:"",password:"",repeatPassword:""}),c=Object(F.a)(r,2),d=c[0],m=c[1],u=Object(s.useState)({error:""}),b=Object(F.a)(u,2),j=b[0],v=b[1],p=function(e){var t=e.target;m(Object(l.a)(Object(l.a)({},d),{},Object(C.a)({},t.name,t.value))),""!==j.error&&v({error:""})},k=Object(o.useMutation)(R,{onCompleted:function(n){var a=n.signup;t.loginUser(a),e.history.push("/")},onError:function(e){var t=e.graphQLErrors;v(t[0].extensions.exception.errors)}}),h=Object(F.a)(k,2),g=h[0],N=h[1].loading;return Object(i.jsx)("div",{ref:a,id:"sl-form",children:Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d.password!==d.repeatPassword&&v({error:"Your passwords don't match!"}),g({variables:d})},className:"sl-form pt-3 signup",children:[Object(i.jsxs)("h3",{className:"text-center fw-400 fs-35 my-3",children:["Create a SuperChat",Object(i.jsx)("br",{})," account"]}),Object(i.jsxs)("div",{className:"group",style:{marginBottom:"0px !important"},children:[Object(i.jsx)("input",{name:"username",type:"text",required:!0,value:d.username,onChange:p}),Object(i.jsx)("span",{className:"highlight"}),Object(i.jsx)("span",{className:"bar"}),Object(i.jsx)("label",{children:"Username"})]}),Object(i.jsxs)("div",{className:"group",style:{marginTop:"0px !important"},children:[Object(i.jsx)("input",{name:"email",type:"text",required:!0,value:d.email,onChange:p}),Object(i.jsx)("span",{className:"highlight"}),Object(i.jsx)("span",{className:"bar"}),Object(i.jsx)("label",{children:"Email"})]}),Object(i.jsxs)("div",{className:"group",children:[Object(i.jsx)("input",{name:"password",type:"password",required:!0,value:d.password,onChange:p}),Object(i.jsx)("span",{className:"highlight"}),Object(i.jsx)("span",{className:"bar"}),Object(i.jsx)("label",{children:"Password"})]}),Object(i.jsxs)("div",{className:"group",children:[Object(i.jsx)("input",{name:"repeatPassword",type:"password",required:!0,value:d.repeatPassword,onChange:p}),Object(i.jsx)("span",{className:"highlight"}),Object(i.jsx)("span",{className:"bar"}),Object(i.jsx)("label",{children:"Repeat password"})]}),Object.values(j).map((function(e){return Object(i.jsx)("p",{className:"text-danger text-center",children:e},e)})),Object(i.jsxs)("div",{className:"box",children:[Object(i.jsx)("button",{name:"signup-submit",className:"navbar-btn",type:"submit",disabled:N,children:N?Object(i.jsx)("div",{className:"lit-spinner"}):"SIGN UP"}),Object(i.jsxs)("p",{className:"mt-2",children:["Already have an account?"," ",Object(i.jsx)(O.b,{to:"/login",className:"link-unstyled",children:"Login"})]})]})]})})})},E=Object(s.forwardRef)((function(e,t){return Object(i.jsxs)("span",{className:"hamburger-icon m-0 scale-75 ",id:e._id,ref:t,style:{cursor:"pointer"},children:[Object(i.jsx)("span",{className:"bar"}),Object(i.jsx)("span",{className:"bar"}),Object(i.jsx)("span",{className:"bar"})]})})),M=(n(116),n(55));var P=function(){var e=Object(s.useContext)(T),t=e.user,n=e.logoutUser,a=Object(s.useRef)(null),r=Object(s.useRef)(null);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("nav",{id:"navbar",className:"sticky-top navbar navbar-expand-lg navbar-light nav-color py-2 custom-shadow",children:[Object(i.jsx)(O.b,{to:"/",style:{textDecoration:"none"},children:Object(i.jsx)("span",{className:"navbar-brand d-block d-lg-none my-n1",children:Object(i.jsx)("img",{src:"".concat("/superchat","/logo512.svg"),alt:"Logo",width:50})})}),Object(i.jsx)("button",{onClick:function(){r.current.classList.contains("open")?(a.current.classList.remove("clicked"),r.current.classList.remove("open")):(a.current.classList.add("clicked"),r.current.classList.add("open"))},"data-toggle":"collapse","data-target":"#navbarContent","aria-controls":"navbars","aria-expanded":"false","aria-label":"Toggle navigation",className:"navbar-toggler bg-white",style:{border:"none !important",cursor:"pointer"},id:"navbar-hamburger",children:Object(i.jsx)(E,{_id:"inner-nav-hamburger",ref:a})}),Object(i.jsx)(O.b,{to:"/",children:Object(i.jsxs)("div",{id:"home-logo",className:"navbar-brand d-none d-lg-block f-barlow",children:[Object(i.jsx)("div",{id:"super",children:"SUPER"})," ",Object(i.jsx)("div",{id:"chat",children:"CHAT"})]})}),Object(i.jsx)("div",{id:"navbarContent",ref:r,className:"collapse navbar-collapse justify-content-end ",children:Object(i.jsxs)("ul",{className:"navbar-nav",children:[t?Object(i.jsx)("a",{href:"https://advaithm26.github.io/devmedia/users/".concat(t.username),style:{textDecoration:"none"},children:Object(i.jsx)("li",{className:"nav-item nav-content nav-link nav-title text-uppercase fs-16 r-router-link",children:t?t.username:""})}):Object(i.jsx)(O.b,{to:"/login",children:Object(i.jsx)("button",{className:"navbar-btn-outline mx-3",children:"LOGIN"})}),Object(i.jsx)(O.b,{to:t?"/login":"/signup",style:{float:"right"},children:Object(i.jsx)("li",{children:Object(i.jsx)("button",{className:"navbar-btn",onClick:function(){t&&n()},children:t?"LOGOUT":"SIGNUP"})})})]})})]}),Object(i.jsx)(M.b,{children:Object(i.jsx)(M.a,{children:Object(i.jsx)("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap.native@3.0.0/dist/bootstrap-native.min.js"})})})]})},Q=(n(117),n.p+"static/media/add-contact.ae150140.svg"),H=n(36),z=n(127),B={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addContact"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addContact"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contactUsername"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contacts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:198,source:{body:"mutation addContact($username: String!) {\r\n\taddContact(contactUsername: $username) {\r\n\t\tusername\r\n\t\tid\r\n\t\temail\r\n\t\tprofileImg\r\n\t\tcontacts {\r\n\t\t\tusername\r\n\t\t\tid\r\n\t\t\tprofileImg\r\n\t\t\temail\r\n\t\t}\r\n\t}\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},X=function(e){var t=Object(s.useState)(""),n=Object(F.a)(t,2),a=n[0],r=n[1],c=Object(s.useState)(""),d=Object(F.a)(c,2),l=d[0],m=d[1],u=Object(o.useMutation)(B,{variables:{username:a},onError:function(e){var t=e.message;m("Cannot read property 'username' of undefined"===t?"User does not exist":t)},onCompleted:function(){e.setShow(!1),m(""),r("")}}),b=Object(F.a)(u,2),j=b[0],v=b[1].loading;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(z.a,{show:e.show,onHide:function(){e.setShow(!1),r(""),m("")},size:"md",className:"mt-5",children:Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a?j():m("Input is required")},children:[Object(i.jsx)(z.a.Header,{children:Object(i.jsx)("h2",{children:"Add contact"})}),Object(i.jsxs)(z.a.Body,{className:"pt-3",children:[Object(i.jsx)("label",{htmlFor:"contact-input",children:"Contact username"}),Object(i.jsx)("input",{type:"text",value:a,required:!0,onChange:function(e){r(e.target.value),m("")},id:"contact-input",className:"form-control",placeholder:"Usernames are case sensitive"}),Object(i.jsx)("p",{className:"text-danger text-center mt-2 mb-n1",children:l})]}),Object(i.jsx)(z.a.Footer,{children:Object(i.jsx)("button",{className:"navbar-btn mx-auto",children:v?Object(i.jsx)("div",{className:"lit-spinner"}):"Add"})})]})})})},Y=n.p+"static/media/chat.6d254d0f.svg",_=(n(119),n.p+"static/media/contact.e7b077e6.svg"),J=function(e){var t=e.onClick,n=e.width,a=e.value;return Object(i.jsxs)("svg",{onClick:t,width:n||40,style:{cursor:"pointer"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[Object(i.jsxs)("linearGradient",{id:"4eohz1pmsXxO7RU1HFl11a",x1:"21.516",x2:"45.592",y1:"17.638",y2:"53.673",gradientUnits:"userSpaceOnUse",children:[Object(i.jsx)("stop",{offset:"0",stopColor:"#28afea"}),Object(i.jsx)("stop",{offset:"1",stopColor:"#0b88da"})]}),Object(i.jsx)("path",{fill:"url(#4eohz1pmsXxO7RU1HFl11a)",d:"M9,26l36-14.308V38c0,1.105-0.895,2-2,2H9V26z"}),Object(i.jsxs)("linearGradient",{id:"4eohz1pmsXxO7RU1HFl11b",x1:"1.408",x2:"36.331",y1:"24.41",y2:"46.164",gradientUnits:"userSpaceOnUse",children:[Object(i.jsx)("stop",{offset:"0",stopColor:"#28afea"}),Object(i.jsx)("stop",{offset:"1",stopColor:"#0b88da"})]}),Object(i.jsx)("path",{fill:"url(#4eohz1pmsXxO7RU1HFl11b)",d:"M3,11.692V38c0,1.105,0.895,2,2,2h38c0.491,0,0.935-0.184,1.283-0.478L3,11.692z"}),Object(i.jsx)("path",{d:"M3,11h42v1.692l-17.32,13.45c-2.165,1.681-5.195,1.681-7.36,0L3,12.692V11z",opacity:".05"}),Object(i.jsx)("path",{d:"M3,10.5h42v1.692L26.966,25.304c-1.762,1.304-4.17,1.304-5.932,0L3,12.192V10.5z",opacity:".07"}),Object(i.jsx)("path",{fill:"#50e6ff",d:"M5,8h38c1.105,0,2,0.895,2,2v1.692L26.252,24.466c-1.359,0.926-3.146,0.926-4.504,0L3,11.692V10\tC3,8.895,3.895,8,5,8z"}),Object(i.jsx)("path",{fill:"url(#4eohz1pmsXxO7RU1HFl11c)",d:"M43,8H25.169C25.068,8.654,25,9.318,25,10c0,7.18,5.82,13,13,13\tc2.58,0,4.978-0.761,7-2.057V10C45,8.895,44.105,8,43,8z",opacity:".3"}),Object(i.jsxs)("linearGradient",{id:"4eohz1pmsXxO7RU1HFl11d",x1:"31.189",x2:"45.159",y1:"3.37",y2:"17.34",gradientUnits:"userSpaceOnUse",children:[Object(i.jsx)("stop",{offset:"0",stopColor:"#f44f5a"}),Object(i.jsx)("stop",{offset:".443",stopColor:"#ee3d4a"}),Object(i.jsx)("stop",{offset:"1",stopColor:"#e52030"})]}),0!==a&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("radialGradient",{id:"4eohz1pmsXxO7RU1HFl11c",cx:"37.99",cy:"10.072",r:"12.875",gradientUnits:"userSpaceOnUse",children:[Object(i.jsx)("stop",{offset:".348"}),Object(i.jsx)("stop",{offset:".936",stopOpacity:".098"}),Object(i.jsx)("stop",{offset:"1",stopOpacity:"0"})]}),Object(i.jsx)("path",{fill:"url(#4eohz1pmsXxO7RU1HFl11d)",d:"M48,10.2c0,5.5-4.5,10-10,10s-10-4.5-10-10s4.5-10,10-10C43.5,0.2,48,4.6,48,10.2"}),Object(i.jsx)("text",{style:{fontSize:14},fill:"#fff",x:"34",y:"15.5",children:a})]})]})},K=n(57),W=n.n(K),Z=n(87),ee=n.p+"static/media/trash.da413092.svg",te={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteContact"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contactID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteContact"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contactID"},value:{kind:"Variable",name:{kind:"Name",value:"contactID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contacts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:196,source:{body:"mutation deleteContact($contactID: ID!) {\r\n\tdeleteContact(contactID: $contactID) {\r\n\t\tid\r\n\t\tusername\r\n\t\temail\r\n\t\tprofileImg\r\n\t\tcontacts {\r\n\t\t\tusername\r\n\t\t\tid\r\n\t\t\tprofileImg\r\n\t\t\temail\r\n\t\t}\r\n\t}\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ne=function(e){var t=Object(o.useMutation)(te,{variables:{contactID:e.id},onCompleted:function(){e.setConvo(null),e.setShow(!1)}}),n=Object(F.a)(t,2),a=n[0],s=n[1].loading;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(z.a,{show:e.show,onHide:function(){e.setShow(!1)},size:"md",className:"mt-5",dialogClassName:"addPostModal","aria-labelledby":"example-custom-modal-styling-title",children:[Object(i.jsx)(z.a.Header,{children:Object(i.jsx)("h2",{children:"Delete contact"})}),Object(i.jsx)(z.a.Body,{className:"pt-3",children:Object(i.jsxs)("p",{children:["Are you sure you want to remove ",e.username," as a contact?"]})}),Object(i.jsxs)(z.a.Footer,{children:[Object(i.jsx)("button",{className:"navbar-btn navbar-btn-outline mx-2",onClick:function(t){return e.setShow(!1)},children:"No"}),Object(i.jsx)("button",{className:"navbar-btn mx-2",onClick:function(e){return a()},children:s?Object(i.jsx)("div",{className:"lit-spinner"}):"Yes"})]})]})})},ae=n.p+"static/media/send-icon.3a0e9ae1.svg",ie=n.p+"static/media/chevron-left.a650feca.svg",se=n.p+"static/media/status-pending.8defc8cd.svg",re=n.p+"static/media/status-declined.987446d1.svg",ce={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"sendChat"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"to"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendChat"},arguments:[{kind:"Argument",name:{kind:"Name",value:"to"},value:{kind:"Variable",name:{kind:"Name",value:"to"}}},{kind:"Argument",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:134,source:{body:"mutation sendChat($to: String!, $body: String!) {\r\n\tsendChat(to: $to, body: $body) {\r\n\t\tid\r\n\t\tto\r\n\t\tfrom\r\n\t\tbody\r\n\t\tcreatedAt\r\n\t}\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},de={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"setTyping"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"to"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setTyping"},arguments:[{kind:"Argument",name:{kind:"Name",value:"to"},value:{kind:"Variable",name:{kind:"Name",value:"to"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}],directives:[]}]}}],loc:{start:0,end:96,source:{body:"mutation setTyping($to: String!, $status: Boolean!) {\r\n\tsetTyping(to: $to, status: $status)\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},le={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryChats"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"to"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"from"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryChats"},arguments:[{kind:"Argument",name:{kind:"Name",value:"to"},value:{kind:"Variable",name:{kind:"Name",value:"to"}}},{kind:"Argument",name:{kind:"Name",value:"from"},value:{kind:"Variable",name:{kind:"Name",value:"from"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:135,source:{body:"query queryChats($to: String!, $from: String!) {\r\n\tqueryChats(to: $to, from: $from) {\r\n\t\tid\r\n\t\tto\r\n\t\tfrom\r\n\t\tbody\r\n\t\tcreatedAt\r\n\t}\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},oe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"newChat"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"to"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"newChat"},arguments:[{kind:"Argument",name:{kind:"Name",value:"to"},value:{kind:"Variable",name:{kind:"Name",value:"to"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:107,source:{body:"subscription newChat($to: String!) {\r\n\tnewChat(to: $to) {\r\n\t\tid\r\n\t\tto\r\n\t\tfrom\r\n\t\tbody\r\n\t\tcreatedAt\r\n\t}\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},me={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"typing"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"to"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"typing"},arguments:[{kind:"Argument",name:{kind:"Name",value:"to"},value:{kind:"Variable",name:{kind:"Name",value:"to"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:74,source:{body:"subscription typing($to: String!) {\r\n\ttyping(to: $to) {\r\n\t\tstatus\r\n\t}\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ue="",be=!1!==ue,je=function(e){var t=e.convo,n=e.setConvo,a=e.user,r=Object(s.useState)(!1),c=Object(F.a)(r,2),d=c[0],l=c[1],m=Object(s.useCallback)((function(e){e&&e.scrollIntoView(!1)}),[]),u=Object(o.useMutation)(de),b=Object(F.a)(u,1)[0],j=Object(s.useState)(!1),v=Object(F.a)(j,2),p=v[0],k=v[1],h=Object(s.useRef)(),g=Object(s.useRef)();Object(s.useEffect)((function(){h.current&&h.current.focus()}),[t]);var O=Object(o.useQuery)(le,{variables:{to:t.username,from:a.username}}),f=O.data,N=O.loading,x=O.refetch,y=O.subscribeToMore;Object(s.useEffect)((function(){y({document:oe,variables:{to:t.username},updateQuery:function(){var e=Object(Z.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:be=!1!==(ue=""),k(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),y({document:me,variables:{to:a.username},updateQuery:function(e,t){var n=t.subscriptionData;k(n.data.typing.status)}})}),[a]);var S,w,C=Object(o.useMutation)(ce,{onCompleted:function(){h.current.value=""}}),D=Object(F.a)(C,2),q=D[0],I=D[1].loading;if(a&&(w=a.contacts.find((function(e){return e.username===t.username}))))switch(w.status){case"pending":S=se;break;case"declined":S=re;break;default:S=null}return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{id:"convo-header",children:[Object(i.jsx)("img",{src:ie,alt:"Back to contacts",title:"Back to contacts",className:"d-lg-none d-md-block",width:30,onClick:function(e){return n(null)},style:{position:"absolute",left:15,top:20}}),Object(i.jsx)("a",{href:"https://advaithm26.github.io/devmedia/users/".concat(t.username),title:"View ".concat(t.username,"'s DevMedia profile"),id:"convo-username",target:"_blank",rel:"noreferrer",children:Object(i.jsx)("h2",{id:"convo-username",className:"fw-200 ml-4 mb-0 mt-2 d-inline",children:t.username})}),Object(i.jsx)(H.a,{content:"Delete contact",children:Object(i.jsx)("img",{className:"mt-2 mr-2 icon float-right",src:ee,onClick:function(e){return l(!0)},alt:"remove contact",width:25})}),w&&"accepted"!==w.status&&Object(i.jsx)(H.a,{content:"pending"===w.status?"This contact has not accepted your request yet":"declined"===w.status&&"This contact declined your contact request",children:Object(i.jsx)("img",{src:S,width:"declined"===w.status?28:10,className:"declined"===w.status?"float-right mr-3 mt-2":"float-right mr-3 mt-3",alt:"This contact has not accepted your request yet"})}),Object(i.jsx)(ne,{show:d,setShow:l,id:t.id,username:t.username,setConvo:n})]}),Object(i.jsxs)("div",{id:"chat-box",ref:g,children:[f&&f.queryChats.map((function(e,t){var n=f.queryChats.length-1===t;return Object(i.jsx)("div",{className:"chat",ref:n?m:null,children:Object(i.jsx)("div",{className:e.from===a.username?"user-chat":"contact-chat",children:Object(i.jsx)("div",{className:"chat-body",children:e.body})})},e.id)})),p&&Object(i.jsx)("div",{className:"chat",ref:m,children:Object(i.jsx)("div",{className:"contact-chat",children:Object(i.jsx)("div",{className:"chat-body py-0",children:Object(i.jsxs)("i",{className:"ellipsis fs-25",children:[Object(i.jsx)("i",{children:"."}),Object(i.jsx)("i",{children:"."}),Object(i.jsx)("i",{children:"."})]})})})})]}),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h.current.value.trim()&&q({variables:{to:t.username,body:h.current.value}})},id:"input-box",children:[Object(i.jsx)("input",{ref:h,type:"text",onChange:function(e){be=ue!==(""!==e.target.value),ue=""!==e.target.value,be&&b({variables:{to:t.username,status:""!==e.target.value}})},required:!0,autoFocus:!0,placeholder:"Send a message..."}),Object(i.jsx)("button",{id:"input-submit",children:I||N?Object(i.jsx)("div",{className:"lit-spinner mx-auto"}):Object(i.jsx)("img",{src:ae,alt:"Send message",title:"Send message"})})]})]})},ve={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"resolveContact"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"operation"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contactUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveContact"},arguments:[{kind:"Argument",name:{kind:"Name",value:"operation"},value:{kind:"Variable",name:{kind:"Name",value:"operation"}}},{kind:"Argument",name:{kind:"Name",value:"contactUserID"},value:{kind:"Variable",name:{kind:"Name",value:"contactUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contacts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImg"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:221,source:{body:"mutation resolveContact($operation: String!, $contactUserID: ID!) {\r\n\tresolveContact(operation: $operation, contactUserID: $contactUserID) {\r\n\t\tid\r\n\t\tusername\r\n\t\tcontacts {\r\n\t\t\tid\r\n\t\t\tusername\r\n\t\t\tprofileImg\r\n\t\t}\r\n\t}\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},pe=function(e){var t=Object(o.useMutation)(ve,{onCompleted:function(){e.refetch()}}),n=Object(F.a)(t,2),a=n[0],s=n[1].loading;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(z.a,{show:e.show,size:"lg",onHide:function(){e.setShow(!1)},children:[Object(i.jsx)(z.a.Header,{children:Object(i.jsx)("h2",{children:"Contact requests"})}),Object(i.jsxs)(z.a.Body,{children:[Object(i.jsxs)("p",{children:[e.data&&(0===e.data.length?"You currently don't have any contact requests":"You have ".concat(e.data.length," contact request").concat(1!==e.data.length?"s":""," waiting to be resolved")),s&&Object(i.jsx)("div",{className:"lit-spinner-black float-right"})]}),e.data&&e.data.map((function(e){return Object(i.jsxs)("div",{className:"contact-request",children:[Object(i.jsx)("img",{src:e.profileImg,alt:"profile",className:"float-left profile-img mr-2",style:{marginTop:-13},width:50,height:50}),Object(i.jsx)("p",{className:"d-inline",children:e.username}),Object(i.jsx)("button",{className:"btn-resolve decline float-right",onClick:function(t){return a({variables:{operation:"decline",contactUserID:e.id}})},children:"Decline"}),Object(i.jsx)("button",{className:"btn-resolve accept float-right",onClick:function(t){return a({variables:{operation:"accept",contactUserID:e.id}})},children:"Accept"})]},e.id)}))]})]})})},ke={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"QueryUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ID"},value:{kind:"Variable",name:{kind:"Name",value:"ID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contacts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImg"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:165,source:{body:"query QueryUser($ID: ID!) {\r\n\tqueryUser(ID: $ID) {\r\n\t\tid\r\n\t\tusername\r\n\t\temail\r\n\t\tprofileImg\r\n\t\tcontacts {\r\n\t\t\tid\r\n\t\t\tusername\r\n\t\t\tprofileImg\r\n\t\t\tstatus\r\n\t\t}\r\n\t}\r\n}\r\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},he={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryContactRequests"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryContactRequests"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImg"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:95,source:{body:"query queryContactRequests{\r\n\tqueryContactRequests{\r\n\t\tid\r\n    username\r\n    profileImg\r\n  }\r\n}",name:"GraphQL request",locationOffset:{line:1,column:1}}}},ge=function(){Object(s.useEffect)((function(){document.title="Home | SuperChat";var e=function(e){"Escape"===e.key&&l(null)};return document.addEventListener("keydown",e),localStorage.getItem("dm")&&document.body.classList.add("dark-mode"),function(){document.removeEventListener("keydown",e),document.body.classList.remove("dark-mode")}}),[]);var e=Object(s.useRef)(null),t=Object(s.useRef)(null),n=function(){window.matchMedia("(max-width: 992px)").matches&&!d&&e.current?(e.current.classList.remove("d-none"),e.current.classList.add("col-12"),t.current.classList.add("d-none")):d&&e.current&&(e.current.classList.add("col-lg-3"),e.current.classList.add("d-none"),t.current.classList.remove("d-none"))};window.addEventListener("resize",n);var a=Object(s.useContext)(T).user,r=Object(s.useState)(null),c=Object(F.a)(r,2),d=c[0],l=c[1];Object(s.useEffect)((function(){n()}),[d]),n();var m=Object(o.useQuery)(ke,{variables:{ID:a.id}}),u=m.data,b=m.loading,j=Object(s.useState)(""),v=Object(F.a)(j,2),p=v[0],k=v[1],h=Object(o.useQuery)(he,{onCompleted:function(){k(1===g.queryContactRequests.length?"You have 1 contact request":0===g.queryContactRequests.length?"You have no contact requests":"You have ".concat(g.queryContactRequests.length," contact requests"))}}),g=h.data,O=h.refetch,f=Object(s.useState)(!1),N=Object(F.a)(f,2),x=N[0],y=N[1],S=Object(s.useState)(!1),w=Object(F.a)(S,2),C=w[0],D=w[1];return Object(i.jsx)("div",{id:"home-container",className:"container-fluid",children:b?Object(i.jsx)("div",{className:"d-flex justify-content-center",style:{marginTop:"30vh"},children:Object(i.jsx)("div",{className:"lit-spinner-big"})}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{id:"contacts",className:"col-lg-3 d-lg-block",ref:e,children:[Object(i.jsxs)("div",{className:"row pt-3",id:"contacts-header-wrapper",children:[Object(i.jsx)("div",{className:"col-2 contacts-label",children:Object(i.jsx)(H.a,{content:p,children:Object(i.jsx)("div",{children:Object(i.jsx)(J,{value:g&&g.queryContactRequests.length,onClick:function(e){return D(!0)}})})})}),Object(i.jsx)("div",{className:"col-8 text-center contacts-label",children:Object(i.jsx)("h2",{className:"mb-3 fw-100",children:"Contacts"})}),Object(i.jsx)("div",{className:"col-2 contacts-label",children:Object(i.jsx)(H.a,{content:"Add contact",children:Object(i.jsx)("img",{src:Q,onClick:function(){return y(!0)},className:"float-right icon mt-1",alt:"add contact",width:40})})})]}),u&&(0===u.queryUser.contacts.length?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"d-flex justify-content-center",style:{marginTop:100},children:Object(i.jsx)("img",{src:_,alt:"No contacts",width:125})}),Object(i.jsxs)("p",{className:"text-muted text-center mt-3",children:["No contacts yet!",Object(i.jsx)("br",{}),"Add a new contact by clicking the plus at the top right corner"]})]}):u.queryUser.contacts.map((function(e){return Object(i.jsxs)("div",{className:"row contact",onClick:function(t){return l(e)},children:[Object(i.jsx)("img",{src:e.profileImg,alt:"profile",className:"float-left profile-img",width:60,height:60}),Object(i.jsx)("p",{className:"ml-4 mt-3 fs-20",children:e.username})]},e.id)})))]}),Object(i.jsx)("div",{id:"convo",ref:t,className:"col-lg-9 col-12",children:d?Object(i.jsx)(je,{convo:d,setConvo:l,user:u.queryUser}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"d-flex justify-content-center",style:{marginTop:200},children:Object(i.jsx)("img",{src:Y,width:250,alt:"No chats open"})}),Object(i.jsxs)("p",{className:"text-muted text-center mt-3",children:["No conversations are open",Object(i.jsx)("br",{}),"Open a conversation by clicking on a contact"]})]})})]}),Object(i.jsx)(X,{show:x,setShow:y}),Object(i.jsx)(pe,{show:C,setShow:D,data:g&&g.queryContactRequests,refetch:O})]})})};function Oe(e){var t=Object.assign({},e),n=Object(s.useContext)(T).user;return Object(i.jsx)(D.a,Object(l.a)(Object(l.a)({},t),{},{render:function(e){return n?Object(i.jsx)(ge,Object(l.a)({},e)):Object(i.jsx)(w,Object(l.a)({},e))}}))}var fe=function(){return Object(i.jsx)(o.ApolloProvider,{client:g,children:Object(i.jsx)(U,{children:Object(i.jsxs)(O.a,{basename:"/superchat",children:[Object(i.jsx)(P,{}),Object(i.jsxs)(D.c,{children:[Object(i.jsx)(Oe,{exact:!0,path:"/"}),Object(i.jsx)(D.a,{path:"/login",component:$}),Object(i.jsx)(D.a,{path:"/signup",component:G})]})]})})})},Ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,128)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),s(e),r(e)}))};d.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(fe,{})}),document.getElementById("root")),Ne()},72:function(e,t,n){},95:function(e,t,n){}},[[121,1,2]]]);
//# sourceMappingURL=main.3fe81f8c.chunk.js.map